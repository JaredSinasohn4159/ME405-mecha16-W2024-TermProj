<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mecha16 Term Project Winter 2024: mlx_cam.MLX_Cam Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">mecha16 Term Project Winter 2024
   </div>
   <div id="projectbrief">Implements a heat seeking nerf gun turret using cooperative multitasking for the ME 405 lab.  The team name is &quot;Or Nothing&quot;</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classmlx__cam_1_1_m_l_x___cam.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classmlx__cam_1_1_m_l_x___cam-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mlx_cam.MLX_Cam Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class which wraps an MLX90640 thermal infrared camera driver to make it easier to grab and use an image.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad8ef1839b5b720fbfe41f651c4b59ce9" id="r_ad8ef1839b5b720fbfe41f651c4b59ce9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8ef1839b5b720fbfe41f651c4b59ce9">__init__</a> (self, i2c, address=0x33, pattern=<a class="el" href="classmlx90640_1_1image_1_1_chess_pattern.html">ChessPattern</a>, width=NUM_COLS, height=NUM_ROWS)</td></tr>
<tr class="memdesc:ad8ef1839b5b720fbfe41f651c4b59ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up an MLX90640 camera.  <br /></td></tr>
<tr class="separator:ad8ef1839b5b720fbfe41f651c4b59ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3fe413e88f8c983903b8fa44d767c8" id="r_aef3fe413e88f8c983903b8fa44d767c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef3fe413e88f8c983903b8fa44d767c8">get_array</a> (self, array, limits=None)</td></tr>
<tr class="memdesc:aef3fe413e88f8c983903b8fa44d767c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the camera data to form the raw data array of camera data.  <br /></td></tr>
<tr class="separator:aef3fe413e88f8c983903b8fa44d767c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafb35245952d8a9eb2b1fd401126dfb" id="r_aeafb35245952d8a9eb2b1fd401126dfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeafb35245952d8a9eb2b1fd401126dfb">get_csv</a> (self, array, limits=None)</td></tr>
<tr class="memdesc:aeafb35245952d8a9eb2b1fd401126dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the camera data to form the raw data csv of camera data.  <br /></td></tr>
<tr class="separator:aeafb35245952d8a9eb2b1fd401126dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e29b74253348769b907e2485cc431e" id="r_a36e29b74253348769b907e2485cc431e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36e29b74253348769b907e2485cc431e">get_image_nonblocking</a> (self)</td></tr>
<tr class="memdesc:a36e29b74253348769b907e2485cc431e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an image from an MLX90640 camera in a non-blocking way.  <br /></td></tr>
<tr class="separator:a36e29b74253348769b907e2485cc431e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a99be4162b9f2d1005b1ab54fc6e98977" id="r_a99be4162b9f2d1005b1ab54fc6e98977"><td class="memItemLeft" align="right" valign="top"><a id="a99be4162b9f2d1005b1ab54fc6e98977" name="a99be4162b9f2d1005b1ab54fc6e98977"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_i2c</b></td></tr>
<tr class="separator:a99be4162b9f2d1005b1ab54fc6e98977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403e8a733d26d5a0f4f1e97f14766431" id="r_a403e8a733d26d5a0f4f1e97f14766431"><td class="memItemLeft" align="right" valign="top"><a id="a403e8a733d26d5a0f4f1e97f14766431" name="a403e8a733d26d5a0f4f1e97f14766431"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_addr</b></td></tr>
<tr class="separator:a403e8a733d26d5a0f4f1e97f14766431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c9b6e794cd1a9fa96f3b1cbd2b69fe" id="r_a46c9b6e794cd1a9fa96f3b1cbd2b69fe"><td class="memItemLeft" align="right" valign="top"><a id="a46c9b6e794cd1a9fa96f3b1cbd2b69fe" name="a46c9b6e794cd1a9fa96f3b1cbd2b69fe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_pattern</b></td></tr>
<tr class="memdesc:a46c9b6e794cd1a9fa96f3b1cbd2b69fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pattern for reading the camera, usually ChessPattern. <br /></td></tr>
<tr class="separator:a46c9b6e794cd1a9fa96f3b1cbd2b69fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1abc3298153b1808855811670b9a428c" id="r_a1abc3298153b1808855811670b9a428c"><td class="memItemLeft" align="right" valign="top"><a id="a1abc3298153b1808855811670b9a428c" name="a1abc3298153b1808855811670b9a428c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_width</b></td></tr>
<tr class="memdesc:a1abc3298153b1808855811670b9a428c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The width of the image in pixels, which should be 32. <br /></td></tr>
<tr class="separator:a1abc3298153b1808855811670b9a428c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3308470a1edba9a20d047c3f75dcacb9" id="r_a3308470a1edba9a20d047c3f75dcacb9"><td class="memItemLeft" align="right" valign="top"><a id="a3308470a1edba9a20d047c3f75dcacb9" name="a3308470a1edba9a20d047c3f75dcacb9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_height</b></td></tr>
<tr class="memdesc:a3308470a1edba9a20d047c3f75dcacb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The height of the image in pixels, which should be 24. <br /></td></tr>
<tr class="separator:a3308470a1edba9a20d047c3f75dcacb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae34ffd019db37c3282d1dcbb96bed8c" id="r_aae34ffd019db37c3282d1dcbb96bed8c"><td class="memItemLeft" align="right" valign="top"><a id="aae34ffd019db37c3282d1dcbb96bed8c" name="aae34ffd019db37c3282d1dcbb96bed8c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_getting_image</b></td></tr>
<tr class="memdesc:aae34ffd019db37c3282d1dcbb96bed8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks whether an image is currently being retrieved. <br /></td></tr>
<tr class="separator:aae34ffd019db37c3282d1dcbb96bed8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ffe29441af6e3cd77d92baf8ff9dbff" id="r_a0ffe29441af6e3cd77d92baf8ff9dbff"><td class="memItemLeft" align="right" valign="top"><a id="a0ffe29441af6e3cd77d92baf8ff9dbff" name="a0ffe29441af6e3cd77d92baf8ff9dbff"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_subpage</b></td></tr>
<tr class="memdesc:a0ffe29441af6e3cd77d92baf8ff9dbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Which subpage (checkerboard half) of the image is being retrieved. <br /></td></tr>
<tr class="separator:a0ffe29441af6e3cd77d92baf8ff9dbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a4527e587a2afadf46f468854eff4a" id="r_a57a4527e587a2afadf46f468854eff4a"><td class="memItemLeft" align="right" valign="top"><a id="a57a4527e587a2afadf46f468854eff4a" name="a57a4527e587a2afadf46f468854eff4a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_camera</b></td></tr>
<tr class="separator:a57a4527e587a2afadf46f468854eff4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26bbcb9ea8bb48ee8e622f2b1d17b327" id="r_a26bbcb9ea8bb48ee8e622f2b1d17b327"><td class="memItemLeft" align="right" valign="top"><a id="a26bbcb9ea8bb48ee8e622f2b1d17b327" name="a26bbcb9ea8bb48ee8e622f2b1d17b327"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_image</b></td></tr>
<tr class="memdesc:a26bbcb9ea8bb48ee8e622f2b1d17b327"><td class="mdescLeft">&#160;</td><td class="mdescRight">A local reference to the image object within the camera driver. <br /></td></tr>
<tr class="separator:a26bbcb9ea8bb48ee8e622f2b1d17b327"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class which wraps an MLX90640 thermal infrared camera driver to make it easier to grab and use an image. </p>
<p>This image is in "raw" mode, meaning it has not been calibrated (which takes lots of time and memory) and only gives relative IR emission seen by pixels, not estimates of the temperatures.</p>
<p>This class implements the MLX90640 for use with our turret. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad8ef1839b5b720fbfe41f651c4b59ce9" name="ad8ef1839b5b720fbfe41f651c4b59ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ef1839b5b720fbfe41f651c4b59ce9">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mlx_cam.MLX_Cam.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>i2c</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>address</em><span class="paramdefsep"> = </span><span class="paramdefval">0x33</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pattern</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classmlx90640_1_1image_1_1_chess_pattern.html">ChessPattern</a></span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em><span class="paramdefsep"> = </span><span class="paramdefval">NUM_COLS</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em><span class="paramdefsep"> = </span><span class="paramdefval">NUM_ROWS</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up an MLX90640 camera. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>An I2C bus which has been set up to talk to the camera; this must be a bus object which has already been set up </td></tr>
    <tr><td class="paramname">address</td><td>The address of the camera on the I2C bus (default 0x33) </td></tr>
    <tr><td class="paramname">pattern</td><td>The way frames are interleaved, as we read only half the pixels at a time (default ChessPattern) </td></tr>
    <tr><td class="paramname">width</td><td>The width of the image in pixels; leave it at default </td></tr>
    <tr><td class="paramname">height</td><td>The height of the image in pixels; leave it at default</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the camera, setting up the I2C address as well as the desired csv parameters such as the number of columns and rows. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>the bus which the camera is attached </td></tr>
    <tr><td class="paramname">address</td><td>address of the camera on the bus </td></tr>
    <tr><td class="paramname">pattern</td><td>pattern for reading the camera </td></tr>
    <tr><td class="paramname">width</td><td>width of the image in pixels </td></tr>
    <tr><td class="paramname">height</td><td>height of the image in pixels </td></tr>
    <tr><td class="paramname">ch2</td><td>where the timer is being channeled to send to pin2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aef3fe413e88f8c983903b8fa44d767c8" name="aef3fe413e88f8c983903b8fa44d767c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3fe413e88f8c983903b8fa44d767c8">&#9670;&#160;</a></span>get_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mlx_cam.MLX_Cam.get_array </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>array</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>limits</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the camera data to form the raw data array of camera data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>the bus which the camera is attached </td></tr>
    <tr><td class="paramname">limits</td><td>sets the scale and offset of the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeafb35245952d8a9eb2b1fd401126dfb" name="aeafb35245952d8a9eb2b1fd401126dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafb35245952d8a9eb2b1fd401126dfb">&#9670;&#160;</a></span>get_csv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mlx_cam.MLX_Cam.get_csv </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>array</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>limits</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the camera data to form the raw data csv of camera data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>the bus which the camera is attached </td></tr>
    <tr><td class="paramname">limits</td><td>sets the scale and offset of the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36e29b74253348769b907e2485cc431e" name="a36e29b74253348769b907e2485cc431e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e29b74253348769b907e2485cc431e">&#9670;&#160;</a></span>get_image_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mlx_cam.MLX_Cam.get_image_nonblocking </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an image from an MLX90640 camera in a non-blocking way. </p>
<p>This function is to be called repeatedly; it will return <code>None</code> until a complete image has been retrieved (this takes around a quarter to half second) and will then return the image.</p>
<p><b>Example:</b> This code would be inside a task function which yields repeatedly as long as there isn't a complete image available. </p><div class="fragment"><div class="line">image = <span class="keywordtype">None</span></div>
<div class="line"><span class="keywordflow">while</span> <span class="keywordflow">not</span> image:</div>
<div class="line">    image = camera.get_image_nonblocking()</div>
<div class="line">    yield(state)</div>
</div><!-- fragment --><p>Reads the camera data to get an image in a non blocking way. It returns none until the compelte image has been generate which takes roughly .25-.5 seconds </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="mlx__cam_8py.html">mlx_cam.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>mlx_cam</b></li><li class="navelem"><a class="el" href="classmlx__cam_1_1_m_l_x___cam.html">MLX_Cam</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
